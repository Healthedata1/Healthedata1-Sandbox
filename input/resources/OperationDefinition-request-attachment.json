{
    "resourceType": "OperationDefinition",
    "id": "request-attachment",
    "url": "http://hl7.org/fhir/us/davinci-cdex/OperationDefinition/request-attachment",
    "version": "4.0.1",
    "name": "RequestAttachment",
    "title": "Request Attachment Operation",
    "status": "draft",
    "kind": "operation",
    "date": "2022-06-09",
    "code": "submit-attachment",
    "resource": [
        "Claim"
    ],
    "system": true,
    "type": false,
    "instance": false,
    "parameter": [
        {
            "name": "PayerId",
            "use": "in",
            "min": 0,
            "max": "1",
            "documentation": "The receiving payer identifier. Some endpoints may support multiple payers.  Therefore, this identifier may be required when submitting attachments.",
            "type": "Identifier"
        },
        {
            "name": "PayerUrl",
            "use": "in",
            "min": 0,
            "max": "1",
            "documentation": "The receiving payer url. >>>THE OPERATION OUTPUT ENDPOINT<<<",
            "type": "url"
        },
        {
            "name": "OrganizationId",
            "use": "in",
            "min": 1,
            "max": "1",
            "documentation": "Sending organization/location identifier (e.g., NPI)",
            "type": "Identifier"
        },
        {
            "name": "ProviderId",
            "use": "in",
            "min": 1,
            "max": "1",
            "documentation": "Sending provider identifier (e.g., NPI)",
            "type": "Identifier"
        },
        {
            "name": "MemberId",
            "use": "in",
            "min": 1,
            "max": "1",
            "documentation": "Patient member identifier",
            "type": "Identifier"
        },
        {
            "name": "ServiceDate",
            "use": "in",
            "min": 0,
            "max": "1",
            "documentation": "Date of service or starting date of the service for the claim or prior authorization.  This parameter **SHALL** be present and precise to the day if the attachment is for a claim.  It is optional if the attachment is for a prior authorization.",
            "type": "date"
        },
        {
            "name": "ClaimId",
            "use": "in",
            "min": 0,
            "max": "1",
            "documentation": "Claim Identifier. Either ClaimId or PreAuthId **SHALL** be present.",
            "type": "string"
        },
        {
            "name": "PreAuthId",
            "use": "in",
            "min": 0,
            "max": "1",
            "documentation": "Prior authorization identifier. Either ClaimId or PreAuthId **SHALL** be present.",
            "type": "string"
        },
        {
            "name": "TrackingId",
            "use": "in",
            "min": 1,
            "max": "1",
            "documentation": "Claim/prior authorization identifier value referred to as the \"re-association tracking control numbers\"*",
            "type": "string"
        },
        {
            "name": "Attachment",
            "use": "in",
            "min": 0,
            "max": "*",
            "documentation": "The attachments being requested for a Claim or Prior Authorization are applied to the ItemId (line items) and/or LOINC parameters if present.  If no ItemId is present, then the attachment is applied to the entire claim or prior authorization.",
            "part": [
                {
                    "name": "ItemId",
                    "use": "in",
                    "min": 0,
                    "max": "*",
                    "documentation": "Claim/prior authorization identifier that uniquely reference a line item in the context of the claim or prior authorization.",
                    "type": "string"
                },
                {
                    "name": "code",
                    "use": "in",
                    "min": 0,
                    "max": "*",
                    "documentation": "LOINC code to identify the specific kind of information being communicated (e.g., a discharge summary or diagnostic imaging report).  The `text` element can be used for free text request (e.g., \"proof that patient underwent counseling\").",
                    "type": "CodeableConcept",
                    "binding": {
                        "strength": "extensible",
                        "valueSet": "http://hl7.org/fhir/us/core/ValueSet/us-core-documentreference-type"
                    }
                }
            ]
        },
        {
            "name": "PayerId",
            "use": "out",
            "min": 0,
            "max": "1",
            "documentation": "see above",
            "type": "Identifier"
        },
        {
            "name": "OrganizationId",
            "use": "out",
            "min": 1,
            "max": "1",
            "documentation": "see above",
            "type": "Identifier"
        },
        {
            "name": "ProviderId",
            "use": "out",
            "min": 1,
            "max": "1",
            "documentation": "see above",
            "type": "Identifier"
        },
        {
            "name": "MemberId",
            "use": "out",
            "min": 1,
            "max": "1",
            "documentation": "see above",
            "type": "Identifier"
        },
        {
            "name": "ServiceDate",
            "use": "out",
            "min": 0,
            "max": "1",
            "documentation": "see above",
            "type": "date"
        },
        {
            "name": "TrackingId",
            "use": "out",
            "min": 1,
            "max": "1",
            "documentation": "see above",
            "type": "string"
        },
        {
            "name": "Attachment",
            "use": "out",
            "min": 0,
            "max": "*",
            "documentation": "The attachments being communicated for a Claim or Prior Authorization. They are applied to the ItemId (line items) and/or LOINC parameters if present.  If no ItemId is present, then the attachment is applied to the entire claim or prior authorization.",
            "part": [
                {
                    "name": "ItemId",
                    "use": "out",
                    "min": 0,
                    "max": "*",
                    "documentation": "Claim/prior authorization identifier that uniquely reference a line item in the context of the claim or prior authorization. For a *solicited* Claim or Prior Authorization attachment, this value should be the same as the line items communicated in the request.",
                    "type": "string"
                },
                {
                    "name": "code",
                    "use": "out",
                    "min": 0,
                    "max": "*",
                    "documentation": "LOINC code or free text to identify the specific kind of information being communicated (e.g., a discharge summary or diagnostic imaging report).  For a *solicited* Claim or Prior Authorization attachment, this value should be the same as the LOINC or free text communicated in the request.",
                    "type": "CodeableConcept",
                    "binding": {
                        "strength": "extensible",
                        "valueSet": "http://hl7.org/fhir/us/core/ValueSet/us-core-documentreference-type"
                    }
                },
                {
                    "name": "content",
                    "use": "out",
                    "min": 1,
                    "max": "*",
                    "documentation": "Attachments as FHIR resources.  Non-FHIR attachments data is conveyed using the DocumentReference or Binary resource. Servers **SHALL** support  DocumentReference resource type and **SHOULD** support other types.",
                    "type": "Resource"
                }
            ]
        }
    ]
}